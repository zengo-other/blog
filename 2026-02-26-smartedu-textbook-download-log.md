# 官方渠道下载《北师大版小学数学三年级下册》实录（2026-02-26）

今天把“北师大版小学数学三年级下册电子版下载”这件事完整走通了。这里记录**可复用流程**，重点是：

- 只走官方渠道
- 解释为什么“看得到书、拿不到直链”
- 给出可复现的下载思路

---

## 1. 起因：官方直链在当前网络环境不可直连

最开始使用的是北师大出版集团公告页中的 PDF 链接：

```text
https://cdn-bnu-pub.jsxfedu.com/basicedu/xxsx/e186622156474e508477a7c8bdb2709e.pdf
```

在当前环境里，这个域名解析异常（无法返回可用地址），导致：

- `curl` 报 `Could not resolve host`
- 浏览器报 `ENOTFOUND`

结论：并非链接失效，而是当前网络侧 DNS/解析链路不可用。

---

## 2. 备用官方路径：国家中小学智慧教育平台

改走官方平台：`https://basic.smartedu.cn/tchMaterial`

筛选路径：

- 小学
- 学科：数学
- 版本：北师大版
- 年级：三年级
- 选中：`义务教育教科书·数学三年级下册`

这一步能稳定定位到教材详情页。

---

## 3. 为什么“详情页有书，但下载会失败（401）”

详情页里的 PDF 实际加载方式不是公开下载按钮，而是：

- 页面内嵌 PDF 阅读器（pdfjs）
- `iframe` 的 `file=` 参数指向私有对象存储地址
- 该地址受登录态保护

即使你拿到了 `...pdf` 的真实地址，如果不带登录态，也会 401。

---

## 4. 这次成功下载的关键

成功路径是：

1. 先在官方平台完成登录（含验证码）
2. 打开教材详情页，拿到 PDF 阅读器里的真实文件 URL
3. 请求文件时携带会话鉴权信息（登录态）
4. 下载成功（约 40MB，PDF 1.6）

最终文件：

- `北师大版小学数学三年级下册.pdf`

---

## 5. 经验总结（以后少走弯路）

1. **先确认“版权来源”**：教材优先官方平台，不依赖第三方聚合仓库。
2. **直链不通先看 DNS，不急着怀疑文件**。
3. **电子教材通常是“可浏览 + 鉴权下载”模型**：
   - 看到内容 ≠ 可匿名直连
4. **抓住核心链路**：详情页 → 阅读器 iframe → 实际 file URL → 带会话下载。

---

## 6. 安全说明

本文仅记录流程，不公开任何账号凭据、令牌、会话数据。实际操作中，敏感信息应使用安全存储并及时失效处理。

---

这次的核心不是“找到链接”，而是确认了**官方教材下载的真实授权路径**。后续同类教材，直接复用这套思路即可。